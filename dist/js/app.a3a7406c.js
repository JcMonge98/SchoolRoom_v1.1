(function(e){function t(t){for(var o,r,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);m&&m(t);while(d.length)d.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,r=1;r<a.length;r++){var s=a[r];0!==i[s]&&(o=!1)}o&&(n.splice(t--,1),e=c(c.s=a[0]))}return e}var o={},r={app:0},i={app:0},n=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0b6888":"e38f0502","chunk-2d20f022":"7413be3e","chunk-2d22d5b9":"64c1f233","chunk-c1431ac8":"94c99e03"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-c1431ac8":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var o="css/"+({}[e]||e)+"."+{"chunk-2d0b6888":"31d6cfe0","chunk-2d20f022":"31d6cfe0","chunk-2d22d5b9":"31d6cfe0","chunk-c1431ac8":"fbe1b00e"}[e]+".css",i=c.p+o,n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var l=n[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===o||u===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var o=t&&t.target&&t.target.src||i,n=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=o,delete r[e],m.parentNode.removeChild(m),a(n)},m.href=i;var v=document.getElementsByTagName("head")[0];v.appendChild(m)})).then((function(){r[e]=0})));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,a){o=i[e]=[t,a]}));t.push(o[2]=n);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=i[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,a[1](d)}i[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(a,o,function(t){return e[t]}.bind(null,o));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=u;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"05bd":function(e,t,a){},"1f57":function(e,t,a){"use strict";a("99af");var o=a("d4ec"),r=a("bee2"),i=a("c427"),n=function(){function e(){Object(o["a"])(this,e)}return Object(r["a"])(e,[{key:"allAccess",value:function(){return i["a"].get("/")}},{key:"getEncargadoBoard",value:function(){return i["a"].get("/encargados")}},{key:"getDocenteBoard",value:function(){return i["a"].get("/docentes")}},{key:"getAdminBoard",value:function(){return i["a"].get("/admin")}},{key:"getEncargados",value:function(e){return i["a"].get("/encargados/role/".concat(e))}},{key:"getDocentes",value:function(e){return i["a"].get("/docentes/role/".concat(e))}},{key:"update",value:function(e,t){return i["a"].put("/usuarios/_id/".concat(e),t)}},{key:"remove",value:function(e){return i["a"].delete("/usuarios/_id/".concat(e))}},{key:"correoaleatorio",value:function(e,t){return i["a"].get("/usuarios/correo/nombres/".concat(e,"/apellidos/").concat(t))}},{key:"create",value:function(e){return i["a"].post("/auth/signup",e)}},{key:"show",value:function(e){return i["a"].get("/usuarios/_id/".concat(e))}}]),e}();t["a"]=new n},"34bf":function(e,t,a){e.exports=a.p+"img/7.e7032f0e.png"},"3bb8":function(e,t,a){"use strict";var o=a("97c7"),r=a.n(o);r.a},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="4678"},"4d9b":function(e,t,a){"use strict";var o=a("05bd"),r=a.n(o);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-card",{attrs:{color:"purple lighten-1",flat:"",height:"50px",tile:""}},[a("v-toolbar",{attrs:{dense:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",[e._v("SchoolRoom")]),a("v-spacer"),e.currentUser?e._e():a("v-btn",{attrs:{color:"cyan",text:"",to:"/register"}},[e._v("Registrarse")]),e.currentUser?e._e():a("v-btn",{attrs:{color:"purple",text:"",to:"/login"}},[e._v("Iniciar Sesion")]),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":270,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({attrs:{icon:""}},o),[a("v-icon",[e._v("mdi-account")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e.currentUser?a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[a("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRHDHqQ7DQSIxDuq7E4gRclTgJUCgnv-gPIIx2YDIbs-gUUYkQF&usqp=CAU",alt:"John"}})]),a("strong",[e._v(e._s(e.currentUser.nombres+" ")+e._s(e.currentUser.apellidos+" "))])],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"cyan",text:"",to:{name:"profile"}},on:{click:function(t){e.menu=!1}}},[e._v("Ver Perfil")]),a("v-btn",{attrs:{color:"error",text:""},on:{click:[function(t){e.menu=!1},function(t){return t.preventDefault(),e.logOut(t)}]}},[e._v("Cerrar Sesion")])],1)],1):e._e()],1)],1)],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-home-city")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("SchoolRoom")])],1)],1),a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{link:"",to:{name:"Home"}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pb-4 pt-6"},[e._v("mdi-home")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"pb-4 pt-4"},[e._v("Inicio")])],1)],1),e.showEncargadoBoard||e.showAdminBoard||e.showDocenteBoard?a("v-list-item",{attrs:{link:"",to:{name:"profile"}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pb-4 pt-6"},[e._v("mdi-account-cog")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"pb-4 pt-4"},[e._v("Ver Perfil")])],1)],1):e._e(),e.showAdminBoard?a("v-list-item",{attrs:{link:"",to:{name:"ListadoGrado"}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pb-4 pt-6"},[e._v("mdi-order-bool-ascending")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"pb-4 pt-4"},[e._v("Grados y Secciones")])],1)],1):e._e(),e.showAdminBoard?a("v-list-item",{attrs:{link:"",to:{name:"ListadoAula"}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pb-4 pt-6"},[e._v("mdi-sitemap")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"pb-4 pt-4"},[e._v("Aulas")])],1)],1):e._e(),e.showAdminBoard?a("v-list-item",{attrs:{link:"",to:{name:"ListadoDocentes"}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pb-4 pt-6"},[e._v("mdi-account-multiple")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"pb-4 pt-4"},[e._v("Docentes")])],1)],1):e._e(),e.showAdminBoard?a("v-list-item",{attrs:{link:"",to:{name:"ListadoEncargados"}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pb-4 pt-6"},[e._v("mdi-account-child")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"pb-4 pt-4"},[e._v("Encargados")])],1)],1):e._e(),e.showEncargadoBoard||e.showAdminBoard||e.showDocenteBoard?a("v-list-item",{attrs:{link:"",to:{name:"ListadoInscripciones"}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pb-4 pt-6"},[e._v("mdi-badge-account")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"pb-4 pt-4"},[e._v("Inscripciones")])],1)],1):e._e()],1)],1),a("v-content",[a("router-view")],1)],1)},i=[],n=(a("caad"),a("2532"),{name:"App",components:{},data:function(){return{draw:!1,drawer:null,menu:!1}},computed:{currentUser:function(){return this.$store.state.auth.user},showAdminBoard:function(){return!(!this.currentUser||!this.currentUser.role)&&this.currentUser.role.includes("ROLE_ADMIN")},showDocenteBoard:function(){return!(!this.currentUser||!this.currentUser.role)&&this.currentUser.role.includes("ROLE_DOCENTE")},showEncargadoBoard:function(){return!(!this.currentUser||!this.currentUser.role)&&this.currentUser.role.includes("ROLE_ENCARGADO")}},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login"),localStorage.clear()},created:function(){document.title="SchoolRoom"}}}),s=n,c=a("2877"),l=a("6544"),u=a.n(l),d=a("7496"),m=a("5bc1"),v=a("8336"),f=a("b0af"),p=a("99d9"),b=a("a75b"),g=a("ce7e"),h=a("132d"),x=a("8860"),_=a("da13"),k=a("8270"),C=a("5d23"),y=a("34c3"),w=a("e449"),j=a("f774"),V=a("2fa4"),I=a("71d9"),S=a("2a7f"),O=Object(c["a"])(s,r,i,!1,null,null,null),E=O.exports;u()(O,{VApp:d["a"],VAppBarNavIcon:m["a"],VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VContent:b["a"],VDivider:g["a"],VIcon:h["a"],VList:x["a"],VListItem:_["a"],VListItemAvatar:k["a"],VListItemContent:C["a"],VListItemIcon:y["a"],VListItemTitle:C["b"],VMenu:w["a"],VNavigationDrawer:j["a"],VSpacer:V["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});a("d3b7");var T=a("8c4f"),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-carousel",{attrs:{cycle:"",height:"700","hide-delimiter-background":"","show-arrows-on-hover":""}},e._l(e.slides,(function(e,t){return a("v-carousel-item",{key:t,attrs:{src:e.src,"reverse-transition":"fade-transition",transition:"fade-transition"}})})),1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("h3",{staticClass:"ml-8 mt-4 "},[e._v(" ***Siempre positivas Ante la adversidad, una actitud positiva es siempre la mejor respuesta. Descárgate gratis la Guía práctica #YoMeQuedoEnCasa con todo lo que necesitas para que el confinamiento sea más divertido "),a("br"),a("br"),e._v(" ***Cambia tus pensamientos y cambiarás tu mundo (Norman Vincent Peale) "),a("br"),a("br"),e._v(" ***La verdadera educación consiste en obtener lo mejor de uno mismo (Mahatma Gandhi) "),a("br"),a("br"),e._v(" ***Nuestra paciencia conseguirá más cosas que nuestra fuerza (Edmund Burke) "),a("br"),a("br"),e._v(" ***El hombre bien preparado para la lucha ha conseguido medio triunfo (Miguel de Cervantes) "),a("br"),a("br"),e._v(" Es posible recuperarse de una derrota, pero cuesta más perdonarse a uno mismo por no haberlo intentado (George Edward Woodberry) "),a("br"),a("br")])]),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-img",{staticClass:"ml-12 mt-12",staticStyle:{"border-radius":"28px","padding-rigth":"100px"},attrs:{src:"https://s1.significados.com/foto/online-3412473-640_bg.jpg",width:"600","aspect-ratio":"1.7"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-img",{staticClass:"ml-12",staticStyle:{"border-radius":"28px","padding-rigth":"100px"},attrs:{src:"https://www.doctorponce.com/wp-content/uploads/2019/06/doctor-ponce-1024x678.jpg",width:"600","aspect-ratio":"1.7"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("h3",{staticClass:"mr-8 mt-4 mb-12"},[e._v(" ***Momentos de crisis nos ayudan a tomar consciencia de lo pequeño que es el ser humano y la importancia de disfrutar al máximo cada día. "),a("br"),a("br"),e._v(' ***Los libros son peligrosos. Los mejores deberían ser etiquetados con un "Esto podría cambiar tu vida" (Helen Exley) '),a("br"),a("br"),e._v(" ***La juventud es el momento de estudiar la sabiduría; la vejez, el de practicarla (Jean Jacques Rousseau) "),a("br"),a("br"),e._v(" ***Aprender sin pensar es inútil. Pensar sin aprender, peligroso (Confucio) "),a("br"),a("br"),e._v(" ***Emplea todos tus esfuerzos, incluso cuando las posibilidades jueguen en tu contra (Arnold Palmer) "),a("br"),a("br"),e._v(" ***Ponte objetivos arduos y no pares hasta llegar ahí (Bo Jackson) ")])])],1)],1)},R=[],z={data:function(){return{slides:[{src:"https://fondosmil.com/fondo/17276.jpg"},{src:"https://fondosmil.com/fondo/17300.jpg"},{src:"http://3.bp.blogspot.com/-boSC713hY7Y/Ut_vW7dci3I/AAAAAAAAAH4/fOLwoBYDPFI/s1600/tics4.jpg"},{src:"http://3.bp.blogspot.com/-hmzecyQYs44/Ut_vcyoS79I/AAAAAAAAAIA/CudN3nTin6c/s1600/tics5.jpg"}]}}},N=z,$=a("5e66"),D=a("3e35"),G=a("62ad"),U=a("adda"),L=a("0fd9"),q=Object(c["a"])(N,A,R,!1,null,null,null),M=q.exports;u()(q,{VCarousel:$["a"],VCarouselItem:D["a"],VCol:G["a"],VContent:b["a"],VImg:U["a"],VRow:L["a"]});var P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{id:"signinup-form"}},[a("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-card",{staticClass:"evelation-12 card"},[a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[a("v-row",{},[a("v-col",{staticClass:"pt-6 pb-6",attrs:{cols:"12",md:"8"}},[a("v-card-text",[a("v-form",{staticClass:"signup-form-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("h1",{staticClass:"text-center display-1 mb-10",class:e.bgColor+"--text"},[e._v(" Iniciar Sesion ")]),a("v-text-field",{attrs:{id:"username",rules:e.RolTexto,label:"Nombre de Usuario",name:"Username","append-icon":"person",type:"text",color:e.bgColor},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{id:"password",rules:e.RolTexto,label:"Contraseña",name:"Password","append-icon":"lock",type:"password",color:e.bgColor},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"text-center mt-6"},[a("v-btn",{attrs:{type:"submit",large:"",color:e.bgColor,dark:""}},[e._v("Entrar")])],1)],1)],1)],1),a("v-col",{staticClass:"darken-2 vcenter",class:""+e.bgColor,attrs:{cols:"12",md:"4"}},[a("div",[a("v-card-text",{class:e.fgColor+"--text"},[a("h1",{staticClass:"text-center headline mb-3"},[e._v("SchoolRoom")]),a("h4",{staticClass:"text-center overline mb-3"},[e._v(" Bienvenid@ ")])]),a("div",{staticClass:"text-center mb-6"})],1)])],1)],1)],1)],1)],1)],1)],1)},B=[],J=(a("96cf"),a("1da1")),F={name:"Signupform",props:{source:{type:String,default:""},bgColor:{type:String,default:"green"},fgColor:{type:String,default:"white"}},data:function(){return{step:1,email:"",password:"",RolTexto:[function(e){return!!e||"Este campo es requerido"}],snackbarType:"success",snackbarMessage:"",snackbar:!1}},methods:{login:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.usuario,e.email,e.password),t.prev=1,t.next=4,auth.login(e.email,e.password);case 4:e.$router.push("/Home"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.error=!0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}},Y=F,H=(a("4d9b"),a("a523")),Q=a("4bd4"),W=a("8654"),X=a("f665"),Z=a("1e6c"),K=Object(c["a"])(Y,P,B,!1,null,"bbcbc7d0",null),ee=K.exports;u()(K,{VBtn:v["a"],VCard:f["a"],VCardText:p["c"],VCol:G["a"],VContainer:H["a"],VForm:Q["a"],VRow:L["a"],VTextField:W["a"],VWindow:X["a"],VWindowItem:Z["a"]});var te=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{staticClass:"fill-height",attrs:{id:"signinup-form"}},[o("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[o("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[o("v-card",{staticClass:"evelation-12 card"},[o("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[o("v-window-item",{attrs:{value:1}},[o("v-row",{},[o("v-col",{staticClass:"pt-6 pb-6",attrs:{cols:"12",md:"8"}},[o("v-card-text",[o("v-form",{staticClass:"signup-form-form",attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleLogin(t)}}},[o("h1",{staticClass:"text-center display-1 mb-10",class:e.bgColor+"--text"},[e._v(" Iniciar Sesion ")]),o("v-text-field",{attrs:{rules:e.RolTexto,label:"Correo Electronico",name:"email","append-icon":"person",type:"text",color:e.bgColor},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),o("v-text-field",{attrs:{rules:e.RolTexto,label:"Contraseña",name:"password","append-icon":"lock",type:"password",color:e.bgColor},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),o("div",{staticClass:"text-center mt-6"},[o("v-btn",{attrs:{type:"submit",large:"",color:e.bgColor,dark:""}},[e._v("Entrar")])],1),o("br"),""!=this.message?o("v-alert",{attrs:{color:"red lighten-3"}},[o("h3",{staticClass:"text-center"},[e._v(e._s(e.message))])]):e._e()],1)],1)],1),o("v-col",{staticClass:"darken-2 vcenter",class:""+e.bgColor,attrs:{cols:"12",md:"4"}},[o("div",[o("v-card-text",{class:e.fgColor+"--text"},[o("v-img",{staticClass:"white--text align-end",attrs:{height:"250px",width:"250px",src:a("34bf")}}),o("h4",{staticClass:"text-center overline mb-3",attrs:{black:""}},[e._v(" Bienvenid@ ")])],1),o("div",{staticClass:"text-center mb-6"})],1)])],1)],1)],1)],1)],1)],1)],1)},ae=[],oe=a("d4ec"),re=function e(t,a,o,r){Object(oe["a"])(this,e),this.nombres=t,this.apellidos=a,this.email=o,this.password=r},ie={name:"Login",props:{source:{type:String,default:""},bgColor:{type:String,default:"purple"},fgColor:{type:String,default:"white"}},data:function(){return{user:new re("",""),loading:!1,message:"",email:"",step:1,password:"",RolTexto:[function(e){return!!e||"Este campo es requerido"}],snackbarType:"success",snackbarMessage:"",snackbar:!1}},methods:{handleLogin:function(){var e=this;this.message="",this.user.email&&this.user.password&&this.$store.dispatch("auth/login",this.user).then((function(){location.reload(),e.$router.push("/profile")}),(function(t){e.loading=!1,e.message="Correo o Contraseña invalida"}))}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push("/profile")}},ne=ie,se=(a("3bb8"),a("0798")),ce=Object(c["a"])(ne,te,ae,!1,null,"4e814e4e",null),le=ce.exports;u()(ce,{VAlert:se["a"],VBtn:v["a"],VCard:f["a"],VCardText:p["c"],VCol:G["a"],VContainer:H["a"],VForm:Q["a"],VImg:U["a"],VRow:L["a"],VTextField:W["a"],VWindow:X["a"],VWindowItem:Z["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-data-table",{staticClass:"elevation-5 mr-12 ml-12 mt-8",attrs:{headers:e.headers,items:e.desserts,search:e.buscar},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:""}},[a("v-toolbar-title",[a("h3",{staticClass:"text-center"},[e._v("Listado de Grados")])]),a("v-spacer"),a("v-dialog",{staticStyle:{color:"purple"},attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"purple",dark:""}},o),[e._v("Nuevo Grado")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.items2,label:"Grado",required:""},model:{value:e.grado.nombre,callback:function(t){e.$set(e.grado,"nombre",t)},expression:"grado.nombre"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),""!=e.grado.nombre?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Guardar")]):e._e()],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){e.item}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"accent"},on:{click:e.initialize}},[e._v("Refrescar")])]},proxy:!0}])}),a("br"),a("br"),a("v-data-table",{staticClass:"elevation-5 mr-12 ml-12 mt-4",attrs:{headers:e.headersS,items:e.dessertsS,search:e.buscar2},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:""}},[a("v-toolbar-title",[a("h3",{staticClass:"text-center"},[e._v("Listado de Secciones")])]),a("v-spacer"),a("v-dialog",{staticStyle:{color:"purple"},attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"purple",dark:""}},o),[e._v("Nueva Seccion")])]}}]),model:{value:e.dialogS,callback:function(t){e.dialogS=t},expression:"dialogS"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitleS))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.items,label:"Seccion",required:""},model:{value:e.seccion.nombre,callback:function(t){e.$set(e.seccion,"nombre",t)},expression:"seccion.nombre"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.closeS}},[e._v("Cancelar")]),""!=e.seccion.nombre?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveS}},[e._v("Guardar")]):e._e()],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){e.item}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"accent"},on:{click:e.initializeS}},[e._v("Refrescar")])]},proxy:!0}])}),a("br")],1)},de=[],me=(a("c975"),a("a434"),a("bee2")),ve=a("c427"),fe=function(){function e(){Object(oe["a"])(this,e)}return Object(me["a"])(e,[{key:"index",value:function(){return ve["a"].get("/grados")}},{key:"create",value:function(e){return ve["a"].post("/grados",e)}},{key:"show",value:function(e){return ve["a"].get("/grados/_id/".concat(e))}},{key:"update",value:function(e,t){return ve["a"].put("/grados/_id/".concat(e),t)}},{key:"remove",value:function(e){return ve["a"].delete("/grados/_id/".concat(e))}},{key:"codigoaleatorio",value:function(){return ve["a"].get("/grados/codigo/")}},{key:"traerMaterias",value:function(e){return ve["a"].get("/materias/_id/".concat(e))}},{key:"inscripcionesXGrado",value:function(e){return ve["a"].get("/inscripciones/grado/".concat(e))}},{key:"verificar",value:function(e){return ve["a"].get("/grados/verificar/codigo/".concat(e))}}]),e}(),pe=new fe,be=function(){function e(){Object(oe["a"])(this,e)}return Object(me["a"])(e,[{key:"index",value:function(){return ve["a"].get("/secciones")}},{key:"create",value:function(e){return ve["a"].post("/secciones",e)}},{key:"show",value:function(e){return ve["a"].get("/secciones/_id/".concat(e))}},{key:"update",value:function(e,t){return ve["a"].put("/secciones/_id/".concat(e),t)}},{key:"remove",value:function(e){return ve["a"].delete("/secciones/_id/".concat(e))}}]),e}(),ge=new be,he={data:function(){return{lazy:"",buscar:"",_id:"",nombre:"",RolTexto:[function(e){return!!e||"Este campo es requerido"}],dialog:!1,items2:["Primer Grado","Segundo Grado","Tercer Grado","Cuarto Grado","Quinto Grado","Sexto Grado","Septimo Grado","Octavo Grado","Noveno Grado"],headers:[{text:"Grado",sortable:!1,value:"nombre"}],desserts:[],editedIndex:-1,grado:{_id:null,nombre:""},buscar2:"",dialogS:!1,items:["A","B","C","D"],headersS:[{text:"Seccion",sortable:!1,value:"nombre"}],dessertsS:[],seccion:{_id:null,nombre:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Grado":"Modificar Grado"},formTitleS:function(){return-1===this.editedIndex?"Nueva Seccion":"Modificar Seccion"}},watch:{dialog:function(e){e||this.close()},dialogS:function(e){e||this.close()}},created:function(){this.initialize(),this.initializeS()},methods:{initialize:function(){var e=this;pe.index().then((function(t){e.desserts=Object.assign([e.editedIndex],t.data.grados),console.log(Object.assign([e.editedIndex],t.data.grados))})).catch((function(e){console.log(e)}))},initializeS:function(){var e=this;ge.index().then((function(t){e.dessertsS=Object.assign([e.editedIndex],t.data.seccion),console.log(Object.assign([e.editedIndex],t.data.secciones))})).catch((function(e){console.log(e)}))},save:function(){var e=this,t={_id:this.grado._id,nombre:this.grado.nombre};console.log(t),this.$refs.form.reset(),this.editedIndex>=0?(Object.assign(this.desserts[this.editedIndex],this.grado),pe.update(t._id,t).then((function(a){t._id=a.data._id,console.log(a.data),e.dialog=!1,alert("Grado modificado con éxito"),e.initialize()})).catch((function(e){alert("Error al modificar Grado"),console.log(e)}))):pe.create(t).then((function(t){e.grado._id=t.data._id,console.log(t.data),e.dialog=!1,alert("Grado creado con éxito"),e.initialize()})).catch((function(t){alert("Error || Ya existe este Grado"),e.dialog=!1,console.log(t)}))},saveS:function(){var e=this,t={_id:this.seccion._id,nombre:this.seccion.nombre};console.log(t),this.$refs.form.reset(),this.editedIndex>=0?(Object.assign(this.dessertsS[this.editedIndex],this.seccion),ge.update(t._id,t).then((function(a){t._id=a.data._id,console.log(a.data),e.dialogS=!1,alert("Seccion modificada con éxito"),e.initializeS()})).catch((function(t){alert("Error al modificar Seccion"),e.dialogS=!1,console.log(t)}))):ge.create(t).then((function(t){e.seccion._id=t.data._id,console.log(t.data),e.dialogS=!1,alert("Seccion creada con éxito"),e.initializeS()})).catch((function(e){alert("Error || Ya existe esta Seccion"),console.log(e)}))},deleteItem:function(e){var t=this,a=this.desserts.indexOf(e);confirm("Estas seguro de querer eliminar el registro?")&&this.desserts.splice(a,1),pe.remove(e._id).then((function(e){console.log(e.data),alert("Grado eliminado con éxito"),t.initialize()})).catch((function(e){alert("Error al eliminar"),console.log(e)}))},deleteItemS:function(e){var t=this,a=this.dessertsS.indexOf(e);confirm("Estas seguro de querer eliminar la seccion?")&&this.desserts.splice(a,1),ge.remove(e._id).then((function(e){console.log(e.data),alert("Seccion eliminada con éxito"),t.initializeS()})).catch((function(e){alert("Error al eliminar"),console.log(e)}))},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.grado=Object.assign({},e),this.dialog=!0},editItemS:function(e){this.editedIndex=this.dessertsS.indexOf(e),this.seccion=Object.assign({},e),this.dialogS=!0},close:function(){var e=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){e.grado=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeS:function(){var e=this;this.dialogS=!1,this.$refs.form.reset(),this.$nextTick((function(){e.seccion=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},xe=he,_e=a("8fea"),ke=a("169a"),Ce=a("b974"),ye=Object(c["a"])(xe,ue,de,!1,null,null,null),we=ye.exports;u()(ye,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:G["a"],VContainer:H["a"],VDataTable:_e["a"],VDialog:ke["a"],VForm:Q["a"],VRow:L["a"],VSelect:Ce["a"],VSpacer:V["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});var je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-5 mr-12 ml-12 mt-8",attrs:{headers:e.headers,items:e.desserts,search:e.buscar},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:""}},[a("v-toolbar-title",[a("h3",{staticClass:"text-center"},[e._v("Listado de Materias")])]),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Busqueda","single-line":"","hide-details":"",color:"danger"},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"purple",dark:""}},o),[e._v("Nueva Materia")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Nombre materia"},model:{value:e.materia.nombre,callback:function(t){e.$set(e.materia,"nombre",t)},expression:"materia.nombre"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),e.materia.nombre.length>5?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.validar()}}},[e._v("Guardar")]):e._e()],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(t){return e.editItem(o)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(o)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"accent"},on:{click:e.initialize}},[e._v("Refrescar")])]},proxy:!0}])})},Ve=[],Ie=function(){function e(){Object(oe["a"])(this,e)}return Object(me["a"])(e,[{key:"index",value:function(){return ve["a"].get("/materias")}},{key:"create",value:function(e){return ve["a"].post("/materias",e)}},{key:"show",value:function(){return ve["a"].post("/materias",data)}},{key:"update",value:function(e,t){return ve["a"].put("/materias/_id/".concat(e),t)}},{key:"remove",value:function(e){return ve["a"].delete("/materias/_id/".concat(e))}}]),e}(),Se=new Ie,Oe={data:function(){return{lazy:"",buscar:"",_id:null,nombre:"",RolTexto:[function(e){return!!e||"Este campo es requerido"},function(e){return/[a-zA-Z]\d*/.test(e)||"No se permiten números"}],dialog:!1,headers:[{text:"Materia",sortable:!1,value:"nombre"},{text:"Acciones",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,defaultItem:{_id:null,nombre:""},materias:[],materia:{_id:null,nombre:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva materia":"Modificar Materia"},currentUser:function(){return this.$store.state.auth.user}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{validar:function(){for(var e="0123456789",t=0;t<this.materia.nombre.length;t++)if(-1!=e.indexOf(this.materia.nombre.charAt(t),0))return alert("No se permiten numeros");return this.save()},initialize:function(){var e=this;Se.index().then((function(t){e.desserts=Object.assign([e.editedIndex],t.data.materia),console.log(Object.assign([e.editedIndex],t.data.materia))})).catch((function(e){console.log(e)}))},save:function(){var e=this,t={_id:this.materia._id,nombre:this.materia.nombre};this.$refs.form.reset(),this.editedIndex>=0?(Object.assign(this.desserts[this.editedIndex],this.materia),Se.update(t._id,t).then((function(a){t._id=a.data._id,console.log(a.data),e.dialog=!1,alert("Materia modificada con éxito"),e.initialize()})).catch((function(e){console.log(e)}))):Se.create(t).then((function(t){e.materia._id=t.data._id,console.log(t.data),e.dialog=!1,alert("Materia registrada con éxito"),e.initialize()})).catch((function(e){console.log(e)}))},deleteItem:function(e){var t=this,a=this.desserts.indexOf(e);confirm("Estas seguro de querer eliminar el registro?")&&this.desserts.splice(a,1),Se.remove(e._id).then((function(e){console.log(e.data),alert("Materia eliminada con éxito"),t.initialize()})).catch((function(e){console.log(e)}))},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.materia=Object.assign({},e),this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){e.materia=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},Ee=Oe,Te=Object(c["a"])(Ee,je,Ve,!1,null,null,null),Ae=Te.exports;u()(Te,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:G["a"],VContainer:H["a"],VDataTable:_e["a"],VDialog:ke["a"],VForm:Q["a"],VIcon:h["a"],VRow:L["a"],VSpacer:V["a"],VTextField:W["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-5 mr-1 ml-1 mb-1 mt-8",attrs:{headers:e.headers,items:e.desserts,search:e.buscar},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:""}},[a("v-toolbar-title",[a("h3",{staticClass:"text-center"},[e._v("Listado de Aulas")])]),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Busqueda","single-line":"","hide-details":"",color:"cyan"},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}}),a("v-spacer"),a("v-dialog",{staticStyle:{color:"purple"},attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"purple",dark:""}},o),[e._v("Nueva Aula")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Numero",required:""},model:{value:e.aula.numero,callback:function(t){e.$set(e.aula,"numero",t)},expression:"aula.numero"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.turnos,"item-text":"nombre","item-value":"_id",label:"Turno",required:""},model:{value:e.aula.turno,callback:function(t){e.$set(e.aula,"turno",t)},expression:"aula.turno"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[""!=e.aula.numero&&""!=e.aula.turno?a("v-text-field",{attrs:{rules:e.RolTexto,label:"Codigo",required:"",disabled:""},model:{value:e.aula.codigo,callback:function(t){e.$set(e.aula,"codigo",t)},expression:"aula.codigo"}}):e._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:e.grados,"item-text":"nombre","item-value":"_id",label:"Grado",rules:e.RolTexto},model:{value:e.aula.grado,callback:function(t){e.$set(e.aula,"grado",t)},expression:"aula.grado"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:e.secciones,"item-text":"nombre","item-value":"_id",label:"Seccion",rules:e.RolTexto},model:{value:e.aula.seccion,callback:function(t){e.$set(e.aula,"seccion",t)},expression:"aula.seccion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),""!=e.aula.turno&&""!=e.aula.numero&&""==e.aula.codigo?a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.generar}},[e._v("Generar Codigo")]):e._e(),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),""!=e.aula.codigo&&""!=e.aula.numero&&""!=e.aula.turno&&""!=e.aula.grado&&""!=e.aula.seccion?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Guardar")]):e._e()],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(t){return e.editItem(o)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(o)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"accent"},on:{click:e.initialize}},[e._v("Refrescar")])]},proxy:!0}])})],1)],1)],1)},ze=[],Ne=function(){function e(){Object(oe["a"])(this,e)}return Object(me["a"])(e,[{key:"index",value:function(){return ve["a"].get("/aulas")}},{key:"create",value:function(e){return ve["a"].post("/aulas",e)}},{key:"show",value:function(e){return ve["a"].get("/aulas/_id/".concat(e))}},{key:"update",value:function(e,t){return ve["a"].put("/aulas/_id/".concat(e),t)}},{key:"remove",value:function(e){return ve["a"].delete("/aulas/_id/".concat(e))}},{key:"codigoaleatorio",value:function(){return ve["a"].get("/aulas/codigo/")}},{key:"traerGrados",value:function(){return ve["a"].get("/grados")}},{key:"traerSecciones",value:function(){return ve["a"].get("/secciones")}},{key:"verificar",value:function(e){return ve["a"].get("/aulas/verificar/codigo/".concat(e))}}]),e}(),$e=new Ne,De={data:function(){return{lazy:"",buscar:"",_id:"",numero:"",turno:"",grado:"",seccion:"",codigo:"",RolTexto:[function(e){return!!e||"Este campo es requerido"}],dialog:!1,grados:[],secciones:[],headers:[{text:"Numero",sortable:!1,value:"numero"},{text:"Turno",sortable:!1,value:"turno"},{text:"Codigo Aula",sortable:!1,value:"codigo"},{text:"Grado",sortable:!1,value:"grado.nombre"},{text:"Seccion",sortable:!1,value:"seccion.nombre"},{text:"Acciones",value:"actions",sortable:!1}],turnos:[{nombre:"Mañana",_id:1},{nombre:"Tarde",_id:2},{nombre:"Noche",_id:3}],desserts:[],editedIndex:-1,aula:{_id:null,numero:"",turno:"",codigo:"",grado:"",seccion:""},defaultItem:{id:"",numero:"",turno:"",codigo:"",grado:"",seccion:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Aula":"Modificar Aula"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize(),this.cargarGrados(),this.cargarSecciones()},methods:{initialize:function(){var e=this;$e.index().then((function(t){e.desserts=Object.assign([e.editedIndex],t.data.aula),console.log(Object.assign(t.data.aula))})).catch((function(e){console.log(e)}))},generar:function(){var e=this;$e.codigoaleatorio().then((function(t){console.log(t.data.codigo),e.aula.codigo=t.data.codigo})).catch((function(e){alert("Error al generar codigo"),console.log(e)}))},save:function(){var e=this,t={_id:this.aula._id,numero:this.aula.numero,turno:this.aula.turno,codigo:this.aula.codigo,grado:this.aula.grado,seccion:this.aula.seccion};console.log(t),this.$refs.form.reset(),this.editedIndex>=0?$e.update(t._id,t).then((function(a){t._id=a.data._id,console.log(a.data),e.dialog=!1,alert("Aula modificada con éxito"),e.initialize()})).catch((function(e){alert("Error al modificar Aula"),console.log(e)})):$e.create(t).then((function(t){e.aula._id=t.data._id,console.log(t.data),e.dialog=!1,alert("Aula creada con éxito"),e.initialize()})).catch((function(e){alert("Error || Ya existe esta Seccion"),console.log(e)}))},deleteItem:function(e){var t=this,a=this.desserts.indexOf(e);confirm("Estas seguro de querer eliminar el registro?")&&this.desserts.splice(a,1),$e.remove(e._id).then((function(e){console.log(e.data),alert("Aula eliminada con éxito"),t.initialize()})).catch((function(e){alert("Error al eliminar Aula"),console.log(e)}))},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.aula=Object.assign({},e),this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){e.aula=Object.assign({},e.defaultItem),e.editedIndex=-1}))},cargarGrados:function(){var e=this;$e.traerGrados().then((function(t){e.grados=t.data.grados,console.log("grados",e.grados)})).catch((function(e){console.log(e)}))},cargarSecciones:function(){var e=this;$e.traerSecciones().then((function(t){e.secciones=t.data.seccion,console.log("secciones",e.secciones)})).catch((function(e){console.log(e)}))}}},Ge=De,Ue=Object(c["a"])(Ge,Re,ze,!1,null,null,null),Le=Ue.exports;u()(Ue,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:G["a"],VContainer:H["a"],VDataTable:_e["a"],VDialog:ke["a"],VForm:Q["a"],VIcon:h["a"],VRow:L["a"],VSelect:Ce["a"],VSpacer:V["a"],VTextField:W["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});var qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-5 mr-12 ml-12 mt-8",attrs:{headers:e.headers,items:e.desserts,search:e.buscar},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:""}},[a("v-toolbar-title",[a("h3",{staticClass:"text-center"},[e._v("Listado de Docentes")])]),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Busqueda","single-line":"","hide-details":"",color:"cyan"},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"purple",dark:""}},o),[e._v("Nuevo Docente")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Nombres de Usuario",required:""},model:{value:e.usuario.nombres,callback:function(t){e.$set(e.usuario,"nombres",t)},expression:"usuario.nombres"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Apellidos de usuario",required:""},model:{value:e.usuario.apellidos,callback:function(t){e.$set(e.usuario,"apellidos",t)},expression:"usuario.apellidos"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.Rolemail,label:"E-mail",required:"",disabled:""},model:{value:e.usuario.email,callback:function(t){e.$set(e.usuario,"email",t)},expression:"usuario.email"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[""!=e.usuario.email?a("v-text-field",{attrs:{rules:e.Rolpassword,label:"Contraseña",type:"password",enabled:""},model:{value:e.usuario.password,callback:function(t){e.$set(e.usuario,"password",t)},expression:"usuario.password"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[""!=e.usuario.email?a("v-text-field",{attrs:{rules:e.RolconPassword.concat(e.RolConfirmarPassword),label:"Confirmar Contraseña",type:"password",enabled:""},model:{value:e.confirmar,callback:function(t){e.confirmar=t},expression:"confirmar"}}):e._e()],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),e.usuario.nombres.length>3&&e.usuario.apellidos.length>3&&""==e.usuario.email?a("v-btn",{attrs:{color:"green darken-1",text:"",enabled:""},on:{click:e.validar}},[e._v("Generar Correo")]):e._e(),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),""!=e.usuario.nombres.length&&""!=e.usuario.apellidos.length&&""!=e.usuario.email&&e.usuario.password==e.confirmar?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Guardar")]):e._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Editar Docente")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Nombres de Usuario",required:""},model:{value:e.usuario.nombres,callback:function(t){e.$set(e.usuario,"nombres",t)},expression:"usuario.nombres"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Apellidos de usuario",required:""},model:{value:e.usuario.apellidos,callback:function(t){e.$set(e.usuario,"apellidos",t)},expression:"usuario.apellidos"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),""!=e.usuario.nombres.length&&""!=e.usuario.apellidos.length?a("v-btn",{attrs:{color:"orange darken-1",text:""},on:{click:e.editar}},[e._v("Modificar")]):e._e()],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(t){return e.editItem(o)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(o)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"accent"},on:{click:e.initialize}},[e._v("Refrescar")])]},proxy:!0}])})},Me=[],Pe=a("1f57"),Be={data:function(){return{correo:{nombres:"junito",apellidos:"perez"},buscar:"",buscar2:"",dialog:"",dialog2:"",lazy:"",nombres:"",apellidos:"",roles:"",email:"",password:"",confirmar:"",RolTexto:[function(e){return!!e||"Este campo es requerido"},function(e){return/[a-zA-Z]\d*/.test(e)||"No se permiten números"}],Rolemail:[function(e){return!!e||"Correo es requerido"},function(e){return/.+@.+\..+/.test(e)||"E-mail no valido"}],Rolpassword:[function(e){return!!e||"Contraseña es requerida"}],RolconPassword:[function(e){return!!e||"Contraseña es requerida"}],headers:[{text:"Nombres",sortable:!1,value:"nombres"},{text:"Apellidos",sortable:!1,value:"apellidos"},{text:"E-mail",sortable:!1,value:"email"},{text:"Rol",sortable:!1,value:"role.nombre"},{text:"Acciones",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,usuario:{_id:"",nombres:"",apellidos:"",email:"",password:"",roles:"docente"},defaultItem:{_id:"",nombres:"",apellidos:"",email:"",password:"",confirmar:"",roles:"docente"}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Docente":"Modificar Docente"},RolConfirmarPassword:function(){var e=this;return function(){return e.usuario.password===e.confirmar||"las contraseñas no coinciden"}},currentUser:function(){return this.$store.state.auth.user}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{validar:function(){for(var e="0123456789",t=0;t<this.usuario.nombres.length;t++)if(-1!=e.indexOf(this.usuario.nombres.charAt(t),0))return alert("No se permiten numeros");for(t=0;t<this.usuario.apellidos.length;t++)if(-1!=e.indexOf(this.usuario.apellidos.charAt(t),0))return alert("No se permiten numeros");return this.generarCorreo()},initialize:function(){var e=this,t=Object.assign("5efb6e28cc97240017ce786f");console.log(t),Pe["a"].getDocentes(t).then((function(t){e.desserts=Object.assign([e.editedIndex],t.data.usuario),console.log(Object.assign([e.editedIndex],t.data.usuario))})).catch((function(e){console.log(e)}))},generarCorreo:function(){var e=this,t=this.usuario.nombres,a=this.usuario.apellidos;console.log(t,a),Pe["a"].correoaleatorio(t,a).then((function(t){console.log(t.data.correo),e.usuario.email=t.data.correo})).catch((function(e){alert("Error al generar correo"),console.log(e)}))},deleteItem:function(e){var t=this,a=this.desserts.indexOf(e),o=confirm("Estas seguro de querer eliminar el registro?");1==o?(this.desserts.splice(a,1),Pe["a"].remove(e._id).then((function(e){console.log(e.data),alert("Usuario eliminado con éxito"),t.initialize()})).catch((function(e){alert("Error al eliminar"),console.log(e)}))):console.log("No se elemino")},save:function(){var e=this,t={_id:this.usuario._id,nombres:this.usuario.nombres,apellidos:this.usuario.apellidos,email:this.usuario.email,password:this.usuario.password,role:this.usuario.roles};this.$refs.form.reset(),console.log(t),Pe["a"].create(t).then((function(t){e.usuario._id=t.data._id,console.log(t.data),e.dialog=!1,alert("Usuario creado con éxito"),e.initialize()})).catch((function(e){alert("Error || Ya existe este Docente"),console.log(e)}))},editar:function(){var e=this,t={_id:this.usuario._id,nombres:this.usuario.nombres,apellidos:this.usuario.apellidos};Pe["a"].update(t._id,t).then((function(a){t._id=a.data._id,console.log(a.data),e.dialog2=!1,alert("Usuario modificado con éxito"),e.initialize()})).catch((function(t){e.dialog2=!1,alert("Error al modificar"),console.log(t)}))},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.usuario=Object.assign({},e),this.dialog2=!0,console.log(this.usuario)},close:function(){var e=this;this.dialog=!1,this.dialog2=!1,this.$refs.form.reset(),this.$nextTick((function(){e.usuario=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},Je=Be,Fe=Object(c["a"])(Je,qe,Me,!1,null,null,null),Ye=Fe.exports;u()(Fe,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:G["a"],VContainer:H["a"],VDataTable:_e["a"],VDialog:ke["a"],VForm:Q["a"],VIcon:h["a"],VRow:L["a"],VSpacer:V["a"],VTextField:W["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});var He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-5 mr-12 ml-12 mt-8",attrs:{headers:e.headers,items:e.desserts,search:e.buscar},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:""}},[a("v-toolbar-title",[a("h3",{staticClass:"text-center"},[e._v("Listado de Encargados")])]),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Busqueda","single-line":"","hide-details":"",color:"cyan"},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"purple",dark:""}},o),[e._v("Nuevo Encargado")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Nombres de Usuario",required:""},model:{value:e.usuario.nombres,callback:function(t){e.$set(e.usuario,"nombres",t)},expression:"usuario.nombres"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Apellidos de usuario",required:""},model:{value:e.usuario.apellidos,callback:function(t){e.$set(e.usuario,"apellidos",t)},expression:"usuario.apellidos"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.Rolemail,label:"E-mail",required:"",disabled:""},model:{value:e.usuario.email,callback:function(t){e.$set(e.usuario,"email",t)},expression:"usuario.email"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[""!=e.usuario.email?a("v-text-field",{attrs:{rules:e.Rolpassword,label:"Contraseña",type:"password",enabled:""},model:{value:e.usuario.password,callback:function(t){e.$set(e.usuario,"password",t)},expression:"usuario.password"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[""!=e.usuario.email?a("v-text-field",{attrs:{rules:e.RolconPassword.concat(e.RolConfirmarPassword),label:"Confirmar Contraseña",type:"password",enabled:""},model:{value:e.confirmar,callback:function(t){e.confirmar=t},expression:"confirmar"}}):e._e()],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),e.usuario.nombres.length>3&&e.usuario.apellidos.length>3&&""==e.usuario.email?a("v-btn",{attrs:{color:"green darken-1",text:"",enabled:""},on:{click:e.validar}},[e._v("Generar Correo")]):e._e(),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),e.usuario.nombres.length>3&&e.usuario.apellidos.length>3&&""!=e.usuario.email&&e.usuario.password==e.confirmar?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Guardar")]):e._e()],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange"},on:{click:function(t){return e.editItem(o)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(o)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"accent"},on:{click:e.initialize}},[e._v("Refrescar")])]},proxy:!0}])})},Qe=[],We={data:function(){return{buscar:"",buscar2:"",dialog:"",lazy:"",nombres:"",apellidos:"",roles:"",email:"",password:"",confirmar:"",RolTexto:[function(e){return!!e||"Este campo es requerido"},function(e){return/[a-zA-Z]\d*/.test(e)||"No se permiten números"}],Rolemail:[function(e){return!!e||"Correo es requerido"},function(e){return/.+@.+\..+/.test(e)||"E-mail no valido"}],Rolpassword:[function(e){return!!e||"Contraseña es requerida"}],RolconPassword:[function(e){return!!e||"Contraseña es requerida"}],headers:[{text:"Nombres",sortable:!1,value:"nombres"},{text:"Apellidos",sortable:!1,value:"apellidos"},{text:"E-mail",sortable:!1,value:"email"},{text:"Rol",sortable:!1,value:"role.nombre"},{text:"Acciones",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,usuario:{_id:"",nombres:"",apellidos:"",email:"",password:"",confirmar:"",roles:"encargado"},defaultItem:{_id:"",nombres:"",apellidos:"",email:"",password:"",confirmar:"",roles:"encargado"}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Encargado":"Modificar Encargado"},RolConfirmarPassword:function(){var e=this;return function(){return e.usuario.password===e.confirmar||"las contraseñas no coinciden"}},currentUser:function(){return this.$store.state.auth.user}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{validar:function(){for(var e="0123456789",t=0;t<this.usuario.nombres.length;t++)if(-1!=e.indexOf(this.usuario.nombres.charAt(t),0))return alert("No se permiten numeros");for(t=0;t<this.usuario.apellidos.length;t++)if(-1!=e.indexOf(this.usuario.apellidos.charAt(t),0))return alert("No se permiten numeros");return this.generarCorreo()},initialize:function(){var e=this,t=Object.assign("5efb6e28cc97240017ce786e");console.log(t),Pe["a"].getEncargados(t).then((function(t){e.desserts=Object.assign([e.editedIndex],t.data.usuario),console.log(Object.assign([e.editedIndex],t.data.usuario))})).catch((function(e){console.log(e)}))},generarCorreo:function(){var e=this,t=this.usuario.nombres,a=this.usuario.apellidos;console.log(t,a),Pe["a"].correoaleatorio(t,a).then((function(t){console.log(t.data.correo),e.usuario.email=t.data.correo})).catch((function(e){alert("Error al generar correo"),console.log(e)}))},deleteItem:function(e){var t=this,a=this.desserts.indexOf(e),o=confirm("Estas seguro de querer eliminar el registro?");1==o?(this.desserts.splice(a,1),Pe["a"].remove(e._id).then((function(e){console.log(e.data),alert("Usuario eliminado con éxito"),t.initialize()})).catch((function(e){alert("Error al eliminar"),console.log(e)}))):console.log("No se elemino")},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.usuario.nombres=e.nombres,this.usuario.apellidos=e.apellidos,this.usuario.email=e.email,this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){e.usuario=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this,t={_id:this.usuario._id,nombres:this.usuario.nombres,apellidos:this.usuario.apellidos,email:this.usuario.email,password:this.usuario.password,role:this.usuario.roles};this.$refs.form.reset(),this.editedIndex>=0?(Object.assign(this.desserts[this.editedIndex],this.grado),Pe["a"].update(t._id,t).then((function(a){t._id=a.data._id,console.log(a.data),e.dialog=!1,alert("Usuario modificado con éxito"),e.initialize()})).catch((function(t){alert("Error al modificar"),e.dialog=!1,console.log(t)}))):(console.log(t),Pe["a"].create(t).then((function(t){e.usuario._id=t.data._id,console.log(t.data),e.dialog=!1,alert("Usuario creado con éxito"),e.initialize()})).catch((function(e){alert("Error || Ya existe este Docente"),console.log(e)})))}}},Xe=We,Ze=Object(c["a"])(Xe,He,Qe,!1,null,null,null),Ke=Ze.exports;u()(Ze,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:G["a"],VContainer:H["a"],VDataTable:_e["a"],VDialog:ke["a"],VForm:Q["a"],VIcon:h["a"],VRow:L["a"],VSpacer:V["a"],VTextField:W["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});var et=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"12"}},[o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[o("div",{staticClass:"offset-1"},["ROLE_DOCENTE"==e.currentUser.role?o("v-btn",e._g({staticClass:"mb-2 mx-auto offset-md-2",attrs:{color:"cyan lighten-1",dark:""},on:{click:e.llenarCombo}},a),[e._v("Inscribir Materia")]):e._e(),o("v-btn",{staticClass:"mb-2 mx-auto ml-8",attrs:{color:"purple lighten-1",dark:""},on:{click:function(t){return e.borrarStorage()}}},[e._v("volver al listado")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[o("v-card-title",[o("span",{staticClass:"headline"},[e._v("Inscribir Materia")])]),o("v-card-text",[o("v-container",[o("v-select",{attrs:{items:e.ins,"item-text":"nombre","item-value":"_id",placeholder:"Seleccione una materia",label:"Materia",required:""},model:{value:e.materia,callback:function(t){e.materia=t},expression:"materia"}})],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),""!=e.materia?o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Guardar")]):e._e()],1)],1)],1)],1)],1)],1),o("v-row",e._l(e.grados,(function(t,a){return o("v-col",{key:a,attrs:{cols:"12",sm:"12"}},[o("div",{staticClass:"text-center",attrs:{cols:"12",sm:"12"}},[o("v-chip",{staticClass:"ma-2",attrs:{color:"purple lighten-1",outlined:"","x-large":""}},[o("v-icon",{attrs:{left:""}},[e._v("mdi-server-plus")]),o("strong",[e._v(e._s(t.grado.nombre)+' "'+e._s(t.seccion.nombre)+'" Aula: '+e._s(t.numero))])],1)],1)])})),1),o("v-row",e._l(e.detalles,(function(t,r){return o("v-col",{key:r,staticClass:"mb-4 mr-12 mt-8 ml-12",attrs:{cols:"12",md:"3",sm:"3"}},[o("v-hover",{scopedSlots:e._u(["ROLE_DOCENTE"==e.currentUser.role?{key:"default",fn:function(r){var i=r.hover;return[o("v-form",{attrs:{action:""}},[o("v-card",{staticClass:"mx-auto",staticStyle:{"border-radius":"28px"},attrs:{elevation:i?24:2}},[o("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:a("c10d")}},[o("v-card-title",[o("h3",[e._v(e._s(t.materia.nombre))])]),o("v-card-subtitle",{staticClass:"pb-0 white--text mb-4"},[e._v("Prof:"+e._s(" "+t.inscripcion.usuario.nombres+" "+t.inscripcion.usuario.apellidos))])],1),o("v-card-text",{staticClass:"text--primary"},[o("div",[e._v("Presiona entrar, para poder vizualizar todas las tareas de esta materia..!")])]),o("v-card-actions",[o("div",{staticClass:"center"},[o("v-btn",{attrs:{color:"purple",text:""},on:{click:function(a){return e.llevarDetalle(t)}}},[e._v("Entrar")]),o("v-btn",{attrs:{color:"red",text:""},on:{click:function(a){return e.eliminarDetalle(t)}}},[e._v("Eliminar")])],1)])],1)],1)]}}:null],null,!0)})],1)})),1),o("v-row",[o("v-col",{attrs:{cols:"12",sm:"12"}},[o("v-data-table",{staticClass:"elevation-5 mr-12 ml-12 mt-8",attrs:{headers:e.headers,items:e.desserts},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:""}},[o("v-toolbar-title",[o("h3",{staticClass:"text-center"},[e._v("Personas")])]),o("v-spacer")],1)]},proxy:!0},{key:"item.actions",fn:function(e){e.item}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:e.VerPersonas}},[e._v("Ver Personas")])]},proxy:!0}])})],1)],1)],1)},tt=[],at=(a("a630"),a("3ca3"),function(){function e(){Object(oe["a"])(this,e)}return Object(me["a"])(e,[{key:"index",value:function(){return ve["a"].get("/detalleAula")}},{key:"create",value:function(e){return ve["a"].post("/detalleAula",e)}},{key:"show",value:function(e){return ve["a"].get("/detalleAula/inscripcion/".concat(e))}},{key:"show2",value:function(e){return ve["a"].get("/detalleAula/aula/".concat(e))}},{key:"update",value:function(e,t){return ve["a"].put("/detalleAula/_id/".concat(e),t)}},{key:"remove",value:function(e){return ve["a"].delete("/detalleAula/_id/".concat(e))}},{key:"traerMaterias",value:function(){return ve["a"].get("/materias")}},{key:"traerGrados",value:function(e){return ve["a"].get("/aulas/_id/".concat(e))}}]),e}()),ot=new at,rt=function(){function e(){Object(oe["a"])(this,e)}return Object(me["a"])(e,[{key:"index",value:function(){return ve["a"].get("/inscripciones")}},{key:"create",value:function(e){return ve["a"].post("/inscripciones",e)}},{key:"show",value:function(e){return ve["a"].get("/inscripciones/usuario/".concat(e))}},{key:"showAdmin",value:function(e){return ve["a"].get("/inscripciones/aula/".concat(e))}},{key:"update",value:function(e,t){return ve["a"].put("/inscripciones/_id/".concat(e),t)}},{key:"remove",value:function(e){return ve["a"].delete("/inscripciones/_id/".concat(e))}},{key:"generarAula",value:function(e){return ve["a"].get("/aulas/codigo/".concat(e))}},{key:"traerGrados",value:function(){return ve["a"].get("/grados")}},{key:"traerSecciones",value:function(){return ve["a"].get("/secciones")}},{key:"traerDocentes",value:function(e){return ve["a"].get("/usuarios/role/".concat(e))}},{key:"inscripcionesXGrado",value:function(e){return ve["a"].get("/inscripciones/aula/".concat(e))}}]),e}(),it=new rt,nt={data:function(){return{grados:[],lazy:"",user:"",dialog:"",materia:"",materias:[],materiasuno:[],docentes:[],inscripcion:"",detalles:[],detalles2:[],ins:[],headers:[{text:"Nombre",sortable:!1,value:"usuario.nombres"},{text:"Apellidos",sortable:!1,value:"usuario.apellidos"},{text:"Aula",sortable:!1,value:"aula.numero"},{text:"Grado",sortable:!1,value:"aula.grado.nombre"},{text:"Seccion",sortable:!1,value:"aula.seccion.nombre"},{text:"Rol",sortable:!1,value:"usuario.role.nombre"}],desserts:[]}},created:function(){this.cargarMaterias(),this.mostrarGrado(),this.initialize(),this.detallesGrado()},methods:{initialize:function(){var e=this,t=JSON.parse(localStorage.getItem("id_inscripcion"));ot.show(t).then((function(t){e.detalles=t.data.detalle,localStorage.setItem("detalles",JSON.stringify(e.detalles))})).catch((function(e){console.log(e)}))},detallesGrado:function(){var e=this,t=JSON.parse(localStorage.getItem("aula"));ot.show2(t).then((function(t){e.detalles2=t.data.detalle,localStorage.setItem("detallesG",JSON.stringify(e.detalles2))})).catch((function(e){console.log(e)}))},eliminarDetalle:function(e){var t=this;this.detalles.indexOf(e);confirm("Estas seguro de querer eliminar el registro?")&&ot.remove(e._id).then((function(e){console.log(e.data),alert("Detalle eliminado con éxito"),t.initialize()})).catch((function(e){console.log(e)}))},borrarStorage:function(){localStorage.removeItem("id_inscripcion"),localStorage.removeItem("aula"),localStorage.removeItem("detalles"),localStorage.removeItem("detallesG"),this.$router.push("/ListadoInscripciones")},llenarCombo:function(){var e=JSON.parse(localStorage.getItem("detallesG")),t=JSON.parse(localStorage.getItem("materias"));if(console.log(e,t),null!=e)for(var a=0;a<t.length;a++){for(var o=!1,r=0;r<e.length&!o;r++)t[a]["nombre"]==e[r]["materia"]["nombre"]&&(o=!0);o||this.ins.push(t[a])}else for(r=0;r<t.length;r++)this.ins.push(t[r]);console.log(this.ins)},save:function(){var e=this,t={materia:this.materia,inscripcion:JSON.parse(localStorage.getItem("id_inscripcion")),aula:JSON.parse(localStorage.getItem("aula"))};ot.create(t).then((function(t){console.log(t.data),e.$refs.form.reset(),e.llenarCombo(),e.dialog=!1,e.initialize()})).catch((function(e){console.log(e)}))},llevarDetalle:function(e){localStorage.setItem("id_detalle",JSON.stringify(e._id)),this.$router.push("/Tablon2")},mostrarGrado:function(){var e=this,t=JSON.parse(localStorage.getItem("aula"));ot.traerGrados(t).then((function(t){e.grados=Array.from(t.data.aula)})).catch((function(e){console.log(e)}))},cargarMaterias:function(){var e=this,t="";ot.traerMaterias().then((function(a){t=a.data.materia,e.materias=t,localStorage.setItem("materias",JSON.stringify(e.materias))})).catch((function(e){console.log(e)}))},close:function(){this.$refs.form.reset(),this.dialog=!1},VerPersonas:function(){var e=this,t=JSON.parse(localStorage.getItem("aula"));it.showAdmin(t).then((function(t){e.desserts=Object.assign([e.editedIndex],t.data.inscripcion),console.log(Object.assign([e.editedIndex],t.data.inscripcion))})).catch((function(e){console.log(e),console.log("neles")}))}},computed:{currentUser:function(){return this.$store.state.auth.user}}},st=nt,ct=a("cc20"),lt=a("ce87"),ut=Object(c["a"])(st,et,tt,!1,null,null,null),dt=ut.exports;u()(ut,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardSubtitle:p["b"],VCardText:p["c"],VCardTitle:p["d"],VChip:ct["a"],VCol:G["a"],VContainer:H["a"],VContent:b["a"],VDataTable:_e["a"],VDialog:ke["a"],VForm:Q["a"],VHover:lt["a"],VIcon:h["a"],VImg:U["a"],VRow:L["a"],VSelect:Ce["a"],VSpacer:V["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});var mt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-row",[o("div",{staticClass:"offset-1 pt-8"},[o("v-btn",{staticClass:"mb-2 mx-auto ml-8",attrs:{color:"purple lighten-1",dark:""},on:{click:function(t){return e.borrarStorage()}}},[e._v("Volver al listado")])],1)]),o("v-row",e._l(e.grados,(function(t,a){return o("v-col",{key:a,attrs:{cols:"12",sm:"12"}},[o("div",{staticClass:"text-center",attrs:{cols:"12",sm:"12"}},[o("v-chip",{staticClass:"ma-2",attrs:{color:"purple lighten-1",outlined:"","x-large":""}},[o("v-icon",{attrs:{left:""}},[e._v("mdi-server-plus")]),o("strong",[e._v(e._s(t.grado.nombre)+' "'+e._s(t.seccion.nombre)+'" Aula: '+e._s(t.numero))])],1)],1)])})),1),o("v-row",e._l(e.detalles,(function(t,r){return o("v-col",{key:r,staticClass:"mb-4 mr-12 mt-8 ml-12",attrs:{cols:"12",md:"3",sm:"3"}},[o("v-hover",{scopedSlots:e._u(["ROLE_ENCARGADO"==e.currentUser.role||"ROLE_ADMIN"==e.currentUser.role?{key:"default",fn:function(r){var i=r.hover;return[o("v-form",{attrs:{action:""}},[o("v-card",{staticClass:"mx-auto",staticStyle:{"border-radius":"28px"},attrs:{elevation:i?24:2}},[o("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:a("c10d")}},[o("v-card-title",[o("h3",[e._v(e._s(t.materia.nombre))])]),o("v-card-subtitle",{staticClass:"pb-0 white--text mb-4"},[e._v("Prof:"+e._s(" "+t.inscripcion.usuario.nombres+" "+t.inscripcion.usuario.apellidos))])],1),o("v-card-text",{staticClass:"text--primary"},[o("div",[e._v("Presiona entrar, para poder vizualizar todas las tareas de esta materia..!")])]),o("v-card-actions",[o("div",{staticClass:"text-center"},[o("v-btn",{attrs:{color:"purple",text:""},on:{click:function(a){return e.llevarDetalle(t)}}},[e._v("Entrar")])],1)])],1)],1)]}}:null],null,!0)})],1)})),1),o("v-row",[o("v-col",{attrs:{cols:"12",sm:"12"}},[o("v-data-table",{staticClass:"elevation-5 mr-12 ml-12 mt-2 mb-12",attrs:{headers:e.headers,items:e.desserts},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:""}},[o("v-toolbar-title",[o("h3",{staticClass:"text-center"},[e._v("Personas")])]),o("v-spacer")],1)]},proxy:!0},{key:"item.actions",fn:function(e){e.item}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:e.VerPersonas}},[e._v("Ver Personas")])]},proxy:!0}])})],1)],1)],1)},vt=[],ft={data:function(){return{grados:[],lazy:"",user:"",dialog:"",materia:"",materias:[],listaIncripcionesXGrado:[],materiasuno:[],docentes:[],inscripcion:"",detalles:[],headers:[{text:"Nombre",sortable:!1,value:"usuario.nombres"},{text:"Apellidos",sortable:!1,value:"usuario.apellidos"},{text:"Aula",sortable:!1,value:"aula.numero"},{text:"Grado",sortable:!1,value:"aula.grado.nombre"},{text:"Seccion",sortable:!1,value:"aula.seccion.nombre"},{text:"Rol",sortable:!1,value:"usuario.role.nombre"}],desserts:[]}},created:function(){this.cargarMaterias(),this.mostrarGrado(),this.initialize()},methods:{initialize:function(){var e=this,t=JSON.parse(localStorage.getItem("aula"));ot.show2(t).then((function(t){e.detalles=t.data.detalle,console.log("detalles",e.detalles)})).catch((function(e){console.log(e)}))},borrarStorage:function(){localStorage.removeItem("aula"),this.$router.push("/ListadoInscripciones")},llevarDetalle:function(e){localStorage.setItem("id_detalle",JSON.stringify(e._id)),this.$router.push("/Tablon2")},mostrarGrado:function(){var e=this,t=JSON.parse(localStorage.getItem("aula"));ot.traerGrados(t).then((function(t){e.grados=Array.from(t.data.aula),console.log("aulas",Array.from(t.data.aula))})).catch((function(e){console.log(e)}))},cargarMaterias:function(){var e=this,t="";ot.traerMaterias().then((function(a){t=a.data.materia,e.materias=t,console.log("materias",t)})).catch((function(e){console.log(e)}))},close:function(){this.$refs.form.reset(),this.dialog=!1},VerPersonas:function(){var e=this,t=JSON.parse(localStorage.getItem("aula"));it.showAdmin(t).then((function(t){e.desserts=Object.assign([e.editedIndex],t.data.inscripcion),console.log(Object.assign([e.editedIndex],t.data.inscripcion))})).catch((function(e){console.log(e),console.log("neles")}))}},computed:{currentUser:function(){return this.$store.state.auth.user}}},pt=ft,bt=Object(c["a"])(pt,mt,vt,!1,null,null,null),gt=bt.exports;u()(bt,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardSubtitle:p["b"],VCardText:p["c"],VCardTitle:p["d"],VChip:ct["a"],VCol:G["a"],VContent:b["a"],VDataTable:_e["a"],VForm:Q["a"],VHover:lt["a"],VIcon:h["a"],VImg:U["a"],VRow:L["a"],VSpacer:V["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});var ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-data-table",{staticClass:"elevation-5 mr-12 ml-12 mt-8",attrs:{headers:e.headers,items:e.desserts,search:e.buscar},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:""}},[a("v-toolbar-title",[a("h3",{staticClass:"text-center"},[e._v("Inscripciones de Aulas")])]),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Filtro","single-line":"","hide-details":"",color:"danger"},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"900"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return["ROLE_ENCARGADO"==e.currentUser.role||"ROLE_DOCENTE"==e.currentUser.role||"ROLE_ADMIN"==e.currentUser.role?a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"purple",dark:""}},o),[e._v("Inscribirse")]):e._e()]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Codigo de Aula"},model:{value:e.inscripcion.codigo,callback:function(t){e.$set(e.inscripcion,"codigo",t)},expression:"inscripcion.codigo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"","aria-disabled":"",disabled:""},model:{value:e.inscripcion.aula,callback:function(t){e.$set(e.inscripcion,"aula",t)},expression:"inscripcion.aula"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Numero de Aula",disabled:""},model:{value:e.inscripcion.numero,callback:function(t){e.$set(e.inscripcion,"numero",t)},expression:"inscripcion.numero"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.turnos,"item-text":"nombre","item-value":"_id",label:"Turno",required:"",disabled:""},model:{value:e.inscripcion.turno,callback:function(t){e.$set(e.inscripcion,"turno",t)},expression:"inscripcion.turno"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Grado",disabled:""},model:{value:e.inscripcion.grado,callback:function(t){e.$set(e.inscripcion,"grado",t)},expression:"inscripcion.grado"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Seccion",disabled:""},model:{value:e.inscripcion.seccion,callback:function(t){e.$set(e.inscripcion,"seccion",t)},expression:"inscripcion.seccion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),""!=e.inscripcion.codigo?a("v-btn",{attrs:{color:"green darken-1",text:"",enabled:""},on:{click:e.generar}},[e._v("Buscar Grado")]):e._e(),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),""!=e.inscripcion.grado?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Guardar")]):e._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Editar Inscripcion")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Id Incripcion",disabled:""},model:{value:e.inscripcion._id,callback:function(t){e.$set(e.inscripcion,"_id",t)},expression:"inscripcion._id"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.docentes,"item-text":"nombres","item-value":"_id",label:"Docente",required:""},model:{value:e.inscripcion.usuario,callback:function(t){e.$set(e.inscripcion,"usuario",t)},expression:"inscripcion.usuario"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.docentes,"item-text":"apellidos","item-value":"_id",label:"Docente",required:"",disabled:""},model:{value:e.inscripcion.usuario,callback:function(t){e.$set(e.inscripcion,"usuario",t)},expression:"inscripcion.usuario"}})],1),a("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Codigo de Aula"},model:{value:e.inscripcion.aula.codigo,callback:function(t){e.$set(e.inscripcion.aula,"codigo",t)},expression:"inscripcion.aula.codigo"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-text-field",{attrs:{rules:e.RolTexto,label:"Id Aula","aria-disabled":"",disabled:""},model:{value:e.inscripcion.aula._id,callback:function(t){e.$set(e.inscripcion.aula,"_id",t)},expression:"inscripcion.aula._id"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.turnos,"item-text":"nombre","item-value":"_id",label:"Turno",required:"",disabled:""},model:{value:e.inscripcion.aula.turno,callback:function(t){e.$set(e.inscripcion.aula,"turno",t)},expression:"inscripcion.aula.turno"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.grados,"item-text":"nombre","item-value":"nombre",label:"Grado",required:"",disabled:""},model:{value:e.inscripcion.aula.grado,callback:function(t){e.$set(e.inscripcion.aula,"grado",t)},expression:"inscripcion.aula.grado"}})],1),a("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[a("v-select",{attrs:{rules:e.RolTexto,items:e.secciones,"item-text":"nombre","item-value":"nombre",label:"Seccion",required:"",disabled:""},model:{value:e.inscripcion.aula.seccion,callback:function(t){e.$set(e.inscripcion.aula,"seccion",t)},expression:"inscripcion.aula.seccion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),""!=e.inscripcion.codigo?a("v-btn",{attrs:{color:"green darken-1",text:"",enabled:""},on:{click:e.generar2}},[e._v("Buscar Grado")]):e._e(),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close2}},[e._v("Cancelar")]),""!=e.inscripcion.grado?a("v-btn",{attrs:{color:"orange darken-1",text:""},on:{click:e.editar}},[e._v("Editar")]):e._e()],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return["ROLE_DOCENTE"==e.currentUser.role?a("v-btn",{attrs:{icon:"",text:"",color:"purple darken-1"},on:{click:function(t){return e.llevarInscripcion(o)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-note")]),e._v("Ver ")],1):e._e(),"ROLE_ENCARGADO"==e.currentUser.role||"ROLE_ADMIN"==e.currentUser.role?a("v-btn",{attrs:{icon:"",text:"",color:"purple darken-1"},on:{click:function(t){return e.llevarInscripcion2(o)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-note")]),e._v("Ver ")],1):e._e(),"ROLE_ADMIN"==e.currentUser.role?a("v-btn",{staticClass:"mr-2 ml-8",attrs:{icon:"",text:"",color:"orange darken-1"},on:{click:function(t){return e.editItem(o)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")]),e._v("Editar ")],1):e._e(),a("v-icon",{staticClass:"ml-4",attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(o)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refrescar")])]},proxy:!0}])})],1)},xt=[],_t=(a("d81d"),a("c1df")),kt=a.n(_t),Ct={data:function(){return{buscar:"",buscarCodigo:"",dialog:"",lazy:"",_id:"",fecha_inscripcion:kt()().format("YYYY-MM-DD"),usuario:"",RolTexto:[function(e){return!!e||"Este campo es requerido"}],codigo:"",aula:"",headers:[{text:"Fecha Inscripcion",sortable:!1,value:"fecha_inscripcion"},{text:"Nombre",sortable:!1,value:"usuario.nombres"},{text:"Apellidos",sortable:!1,value:"usuario.apellidos"},{text:"Aula",sortable:!1,value:"aula.numero"},{text:"Grado",sortable:!1,value:"aula.grado.nombre"},{text:"Seccion",sortable:!1,value:"aula.seccion.nombre"},{text:"Rol",sortable:!1,value:"usuario.role.nombre"},{text:"Acciones",value:"actions",sortable:!1}],desserts:[],dess:[],editedIndex:-1,inscripcion:{_id:"",fecha_inscripcion:"",codigo:"",usuario:"",aula:""},defaultItem:{_id:"",fecha_inscripcion:"",codigo:"",usuario:"",aula:""},listaIncripcionesXGrado:[],dialog2:"",turnos:[{nombre:"Mañana",_id:1},{nombre:"Tarde",_id:2},{nombre:"Noche",_id:3}]}},created:function(){this.initialize(),this.grados(),this.secciones(),this.docentes()},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Inscripcion":"Modificar Inscripcion"},currentUser:function(){return this.$store.state.auth.user}},methods:{initialize:function(){var e=this,t=this.currentUser.id;console.log("usuario logeado => ",t),it.show(t).then((function(t){e.desserts=Object.assign([e.editedIndex],t.data.inscripcion),e.desserts.map((function(e){var t=new Date(e.fecha_inscripcion);e.fecha_inscripcion=kt()(t).format("DD/MM/YYYY - HH:mm A")}))})).catch((function(e){console.log(e),console.log("neles")}))},save:function(){var e=this,t={fecha_inscripcion:"2020-01-01 00:00:00",aula:this.inscripcion.aula,usuario:this.currentUser.id};console.log(t),it.create(t).then((function(t){e.inscripcion._id=t.data._id,console.log(t.data),e.$refs.form.reset(),e.initialize(),alert("Inscripcion creada con éxito"),e.close()})).catch((function(e){console.log(e)}))},editar:function(){var e=this,t={_id:this.inscripcion._id,usuario:this.inscripcion.usuario,aula:this.inscripcion.aula};console.log(t),it.update(t._id,t).then((function(a){t._id=a.data._id,console.log(a.data),e.dialog2=!1,alert("Inscripcion modificada con éxito"),e.initialize(),e.$refs.form.reset()})).catch((function(e){alert("No se pudo modificar"),console.log(e)}))},deleteItem:function(e){var t=this,a=this.desserts.indexOf(e),o=confirm("Estas seguro de querer eliminar el registro?");1==o?(this.desserts.splice(a,1),it.remove(e._id).then((function(e){console.log(e.data),t.$refs.form.reset(),alert("Inscripcion eliminada con éxito"),t.initialize()})).catch((function(e){console.log(e)}))):console.log("No se elemino")},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.inscripcion=Object.assign({},e),this.dialog2=!0},close:function(){var e=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){e.inscripcion=Object.assign({},e.defaultItem),e.editedIndex=-1}))},close2:function(){var e=this;this.dialog2=!1,this.$refs.form.reset(),this.$nextTick((function(){e.inscripcion=Object.assign({},e.defaultItem),e.editedIndex=-1})),this.initialize()},generar:function(){var e=this,t=this.inscripcion.codigo;console.log(t),it.generarAula(t).then((function(t){console.log(t.data.aula),e.inscripcion.aula=t.data.aula[0]._id,e.inscripcion.numero=t.data.aula[0].numero,e.inscripcion.turno=t.data.aula[0].turno,e.inscripcion.grado=t.data.aula[0].grado.nombre,e.inscripcion.seccion=t.data.aula[0].seccion.nombre})).catch((function(e){console.log(e)}))},generar2:function(){var e=this,t=this.inscripcion.aula.codigo;console.log(t),it.generarAula(t).then((function(t){console.log(t.data.aula[0]._id),e.inscripcion.aula._id=t.data.aula[0]._id,e.inscripcion.aula.numero=t.data.aula[0].numero,e.inscripcion.aula.turno=t.data.aula[0].turno,e.inscripcion.aula.grado=t.data.aula[0].grado.nombre,e.inscripcion.aula.seccion=t.data.aula[0].seccion.nombre})).catch((function(e){console.log(e)}))},buscarGrado:function(){var e=this,t=this.buscarCodigo;console.log(t),it.generarAula(t).then((function(t){localStorage.setItem("buscarAula",JSON.stringify(t.data.aula[0]._id)),e.initialize()})).catch((function(e){console.log(e)}))},llevarInscripcion:function(e){localStorage.setItem("aula",JSON.stringify(e.aula._id)),localStorage.setItem("id_inscripcion",JSON.stringify(e._id)),this.$router.push("/Grado")},llevarInscripcion2:function(e){localStorage.setItem("aula",JSON.stringify(e.aula._id)),localStorage.setItem("id_inscripcion",JSON.stringify(e._id)),this.$router.push("/GradoEncargados")},grados:function(){var e=this;it.traerGrados().then((function(t){e.grados=t.data.grados,console.log(e.grados)})).catch((function(e){console.log(e)}))},secciones:function(){var e=this;it.traerSecciones().then((function(t){e.secciones=t.data.seccion,console.log(e.secciones)})).catch((function(e){console.log(e)}))},docentes:function(){var e=this,t="5efb6e28cc97240017ce786f";it.traerDocentes(t).then((function(t){e.docentes=t.data.usuario,console.log("docentes",e.docentes)})).catch((function(e){console.log(e)}))}}},yt=Ct,wt=Object(c["a"])(yt,ht,xt,!1,null,null,null),jt=wt.exports;u()(wt,{VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:G["a"],VContainer:H["a"],VContent:b["a"],VDataTable:_e["a"],VDialog:ke["a"],VForm:Q["a"],VIcon:h["a"],VRow:L["a"],VSelect:Ce["a"],VSpacer:V["a"],VTextField:W["a"],VToolbar:I["a"],VToolbarTitle:S["a"]});var Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mr-5 ml-5 mt-8",attrs:{color:"#1F7087",dark:""}},[e._l(e.detalles,(function(t,o){return a("v-card-title",{key:o,staticClass:"headline"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("h2",[e._v(e._s(t.materia.nombre))])]),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("h5",[e._v(" "+e._s(t.aula.grado.nombre+" Seccion: "+t.aula.seccion.nombre+" Aula: "+t.aula.numero)+" ")])])],1),"ROLE_DOCENTE"==e.currentUser.role?a("v-btn",{staticClass:"offset-md-10",attrs:{tile:"",outlined:"",dark:"",color:"white"},on:{click:function(t){return e.borrarStorage()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-left-bold")]),e._v("Volver ")],1):e._e(),"ROLE_ENCARGADO"==e.currentUser.role||"ROLE_ADMIN"==e.currentUser.role?a("v-btn",{staticClass:"offset-md-10",attrs:{tile:"",outlined:"",dark:"",color:"white"},on:{click:function(t){return e.borrarStorage2()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-folder-plus")]),e._v("Volver ")],1):e._e(),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return["ROLE_ENCARGADO"==e.currentUser.role||"ROLE_ADMIN"==e.currentUser.role||"ROLE_DOCENTE"==e.currentUser.role?a("v-btn",e._g({attrs:{tile:"",outlined:"",dark:"",color:"white"}},o),[a("v-icon",{attrs:{left:""}},[e._v("mdi-folder-plus")]),e._v("Nueva Publicación ")],1):e._e()]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"nuevaP",refInFor:!0,attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Nueva Publicación")])]),a("v-card-text",[a("v-container",[a("v-textarea",{attrs:{rules:e.RolTexto,outlined:"",label:"Descripcion de tu publicación"},model:{value:e.publicacion.descripcion,callback:function(t){e.$set(e.publicacion,"descripcion",t)},expression:"publicacion.descripcion"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close1}},[e._v("Cancelar")]),e.publicacion.descripcion.length>10?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.guardarPublicacion}},[e._v("Publicar")]):e._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-form",{ref:"nuevaP",refInFor:!0,attrs:{"lazy-validation":e.lazy}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Editar Publicación")])]),a("v-card-text",[a("v-container",[a("v-textarea",{attrs:{rules:e.RolTexto,outlined:"",label:"Descripcion de tu publicación"},model:{value:e.publicacion.descripcion,callback:function(t){e.$set(e.publicacion,"descripcion",t)},expression:"publicacion.descripcion"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close2}},[e._v("Cancelar")]),e.publicacion.descripcion.length>10?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.editar}},[e._v("Editar")]):e._e()],1)],1)],1)],1)],1)})),a("h4",{staticClass:"ml-4"}),a("v-card-subtitle",{staticClass:"mt-0"})],2)],1),e._l(e.cards,(function(t,o){return a("v-col",{key:o,staticClass:"offset-md-2",attrs:{cols:"12",sm:"12",md:"8"}},[a("v-card",{staticClass:"ml-12 mt-5 mr-12 mb-12",staticStyle:{"border-radius":"20px"},attrs:{color:"",elevation:"5"}},[a("v-card-title",{staticClass:"headline"},[a("v-row",[a("v-avatar",{staticClass:"ml-2",attrs:{color:"purple",size:"32"}},[a("v-icon",{attrs:{dark:"",small:""}},[e._v("mdi-account-circle")])],1),a("h5",{staticClass:"ml-2"},[e._v(" "+e._s(t.inscripcion.usuario.nombres+" "+t.inscripcion.usuario.apellidos)+" ")]),a("br"),a("h6",{staticClass:"ml-2"},[e._v(e._s(t.fecha_publicacion))])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},["ROLE_DOCENTE"==e.currentUser.role&&e.currentUser.nombres==t.inscripcion.usuario.nombres||"ROLE_ADMIN"==e.currentUser.role&&e.currentUser.nombres==t.inscripcion.usuario.nombres?a("v-btn",{staticClass:"mr-2 ml-8",staticStyle:{"border-radius":"20px"},attrs:{tile:"",outlined:"",color:"success"},on:{click:function(a){return e.editItem(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")]),e._v("Editar ")],1):e._e(),"ROLE_DOCENTE"==e.currentUser.role&&e.currentUser.nombres==t.inscripcion.usuario.nombres||"ROLE_ADMIN"==e.currentUser.role||"ROLE_ENCARGADO"==e.currentUser.role&&e.currentUser.nombres==t.inscripcion.usuario.nombres?a("v-btn",{staticClass:"ml-7",staticStyle:{"border-radius":"20px"},attrs:{tile:"",outlined:"",color:"red"},on:{click:function(a){return e.deleteItem(t)}}},[a("v-icon",{attrs:{rigth:""}},[e._v("mdi-delete")]),e._v("Eliminar ")],1):e._e()],1)],1)],1),a("v-divider"),a("v-card-text",{staticClass:"mt-0"},[a("h3",[e._v(e._s(t.descripcion))]),a("div",[a("v-row",{staticClass:"ml-4"},[a("v-checkbox",{attrs:{label:"Ver Comentarios"},on:{click:function(a){return e.verComentarios(t)}},model:{value:e.v0,callback:function(t){e.v0=t},expression:"v0"}})],1),a("v-banner",{attrs:{"single-line":"",transition:"slide-y-transition"},model:{value:e.v0,callback:function(t){e.v0=t},expression:"v0"}},[e._l(e.comentarios,(function(o,r){return a("div",{key:r},[t._id==o.publicacion?a("v-row",{staticClass:"mb-2",attrs:{dense:""}},[a("v-avatar",{staticClass:"ml-6",attrs:{color:"cyan",size:"24"}},[a("v-icon",{attrs:{dark:"",small:""}},[e._v("mdi-account-circle")])],1),a("h4",{staticClass:"ml-2"},[a("strong",[e._v(e._s(o.inscripcion.usuario.nombres+" "+o.inscripcion.usuario.apellidos))]),e._v(" "),a("small",[e._v(e._s(o.fecha_comentario))]),e._v(" "+e._s(o.descripcion)+" ")]),"ROLE_DOCENTE"==e.currentUser.role&&e.currentUser.nombres==o.inscripcion.usuario.nombres||"ROLE_ADMIN"==e.currentUser.role||"ROLE_ENCARGADO"==e.currentUser.role&&e.currentUser.nombres==o.inscripcion.usuario.nombres?a("v-icon",{staticClass:"ml-2",attrs:{small:"",color:"red"},on:{click:function(a){return e.deleteComentario(o,t)}}},[e._v("mdi-delete")]):e._e()],1):e._e()],1)})),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-textarea",{attrs:{"auto-grow":"",rows:"1","row-height":"15","append-outer-icon":"mdi-send","clear-icon":"mdi-close-circle",clearable:"",label:"Añadir Comentario",type:"text"},on:{"click:append":e.toggleMarker,"click:append-outer":function(a){return e.guardarComentario(t)},"click:clear":e.clearMessage},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1)],2)],1)])],1)],1)}))],2)},It=[],St=a("ade3"),Ot=function(){function e(){Object(oe["a"])(this,e)}return Object(me["a"])(e,[{key:"verPublicaciones",value:function(e){return ve["a"].get("/publicaciones/detalleaula/".concat(e))}},{key:"traerDetalle",value:function(e){return ve["a"].get("/detalleAula/_id/".concat(e))}},{key:"create",value:function(e){return ve["a"].post("/publicaciones",e)}},{key:"update",value:function(e,t){return ve["a"].put("/publicaciones/_id/".concat(e),t)}},{key:"remove",value:function(e){return ve["a"].delete("/publicaciones/_id/".concat(e))}},{key:"removeComentario",value:function(e){return ve["a"].delete("/comentarios/_id/".concat(e))}},{key:"verComentarios",value:function(e){return ve["a"].get("/comentarios/publicacion/".concat(e))}},{key:"createComentario",value:function(e){return ve["a"].post("/comentarios",e)}}]),e}(),Et=new Ot,Tt={data:function(){var e;return e={v0:!1,message:"",marker:!0,iconIndex:0,dialog:!1,dialog2:!1,lazy:"",RolTexto:[function(e){return!!e||"Este campo es requerido"}],descripcion:"",publicacion:"",cards:[],detalles:[]},Object(St["a"])(e,"publicacion",{_id:"",fecha_publicacion:"",descripcion:"",detalleaula:"",inscripcion:""}),Object(St["a"])(e,"editedIndex",-1),Object(St["a"])(e,"defaultItem",{_id:"",fecha_publicacion:"",descripcion:"",detalleaula:"",inscripcion:""}),Object(St["a"])(e,"comentarios",[]),e},created:function(){this.initialize(),this.mostrarDetalle()},methods:{mostrarDetalle:function(){var e=this,t=JSON.parse(localStorage.getItem("id_detalle"));console.log(t),Et.traerDetalle(t).then((function(t){e.detalles=t.data.detalle,console.log("detalles",t.data.detalle)})).catch((function(e){console.log(e)}))},initialize:function(){var e=this,t=[],a=JSON.parse(localStorage.getItem("id_detalle"));Et.verPublicaciones(a).then((function(a){new Date;t=a.data.publicacion,t.map((function(e){var t=new Date(e.fecha_publicacion);console.log(e.fecha_publicacion),console.log(t),e.fecha_publicacion=kt()(t).format("DD/MM/YYYY - HH:mm A")})),console.log(a.data.publicacion),e.cards=t.reverse()})).catch((function(e){console.log("neles",e)}))},guardarPublicacion:function(){var e=this,t={descripcion:this.publicacion.descripcion,detalleaula:JSON.parse(localStorage.getItem("id_detalle")),inscripcion:JSON.parse(localStorage.getItem("id_inscripcion"))};Et.create(t).then((function(t){alert("Publicacion realizada con éxito"),e.publicacion.descripcion="",e.dialog=!1,e.initialize()})).catch((function(e){console.log(e)}))},deleteItem:function(e){var t=this;this.cards.indexOf(e);confirm("Estas seguro de querer eliminar el registro?"),Et.remove(e._id).then((function(e){alert("Se elimino con éxito"),t.initialize()})).catch((function(e){console.log(e)}))},verComentarios:function(e){var t=this,a=e._id,o=[];Et.verComentarios(a).then((function(e){a==e.data.comentario[0].publicacion&&(o=e.data.comentario,o.map((function(e){var t=new Date(e.fecha_comentario);e.fecha_comentario=kt()(t).format("DD/MM/YYYY - HH:mm A")})),t.comentarios=o)})).catch((function(e){console.log("neles",e)}))},guardarComentario:function(e){var t=this,a={descripcion:this.message,publicacion:e._id,inscripcion:JSON.parse(localStorage.getItem("id_inscripcion"))};console.log(a),Et.createComentario(a).then((function(a){t.message="",t.initialize(),t.verComentarios(e)})).catch((function(e){console.log(e)}))},deleteComentario:function(e,t){var a=this;this.comentarios.indexOf(e);confirm("Estas seguro de querer eliminar el comentario?"),Et.removeComentario(e._id).then((function(e){alert("Se elimino con éxito"),a.initialize(),a.verComentarios(t)})).catch((function(e){alert("No se pudo eliminar"),console.log(e)}))},editItem:function(e){this.publicacion=Object.assign({},e),this.dialog2=!0},close1:function(){this.dialog=!1,this.publicacion.descripcion="",this.publicacion._id="",this.publicacion.fecha_entrega=""},close2:function(){this.dialog2=!1,this.publicacion.descripcion="",this.publicacion._id="",this.publicacion.fecha_entrega=""},editar:function(){var e=this,t={_id:this.publicacion._id,descripcion:this.publicacion.descripcion,fecha_entrega:this.publicacion.fecha_entrega};Et.update(t._id,t).then((function(a){t._id=a.data._id,console.log(a.data),e.close2(),alert("Publicacion modificada con éxito"),e.initialize()})).catch((function(e){alert("Error al modificar Publicacion"),console.log(e)}))},borrarStorage:function(){localStorage.removeItem("id_detalle"),this.$router.push("/Grado")},borrarStorage2:function(){localStorage.removeItem("id_detalle"),this.$router.push("/GradoEncargados")},toggleMarker:function(){this.marker=!this.marker},clearMessage:function(){this.message=""},resetIcon:function(){this.iconIndex=0}},computed:{currentUser:function(){return this.$store.state.auth.user},icon:function(){return this.icons[this.iconIndex]}},watch:{dialog:function(e){e||this.close1()},dialog2:function(e){e||this.close2()}}},At=Tt,Rt=a("8212"),zt=a("e4e5"),Nt=a("ac7c"),$t=a("a844"),Dt=Object(c["a"])(At,Vt,It,!1,null,null,null),Gt=Dt.exports;u()(Dt,{VAvatar:Rt["a"],VBanner:zt["a"],VBtn:v["a"],VCard:f["a"],VCardActions:p["a"],VCardSubtitle:p["b"],VCardText:p["c"],VCardTitle:p["d"],VCheckbox:Nt["a"],VCol:G["a"],VContainer:H["a"],VDialog:ke["a"],VDivider:g["a"],VForm:Q["a"],VIcon:h["a"],VRow:L["a"],VSpacer:V["a"],VTextarea:$t["a"]});var Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto mt-12",attrs:{"max-width":"1000"}},[a("v-card-title",[a("h2",{staticClass:"text-center"},[e._v("Fomulario Registrar Usuarios")])]),a("v-form",{staticClass:"mr-5 ml-5 mt-5 mb-12",attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleRegister(t)}}},[a("v-row",[a("v-col",{attrs:{cols:"4",sm:"4"}}),a("v-col",{attrs:{cols:"4",sm:"4"}},[a("v-text-field",{attrs:{name:"codigo",rules:e.RolTexto,label:"Inserte codigo de Verificación"},model:{value:e.codigoVerificacion,callback:function(t){e.codigoVerificacion=t},expression:"codigoVerificacion"}})],1),a("v-col",{attrs:{cols:"4",sm:"4"}},[e.codigoVerificacion.length>3?a("v-btn",{attrs:{color:"green darken-1",outlined:"",text:"",enabled:""},on:{click:function(t){return e.verificar()}}},[e._v("Verificacion")]):e._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[1==this.verificado?a("v-text-field",{attrs:{name:"nombres",rules:e.RolTexto,label:"Nombres",required:""},model:{value:e.user.nombres,callback:function(t){e.$set(e.user,"nombres",t)},expression:"user.nombres"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[1==this.verificado?a("v-text-field",{attrs:{name:"apellidos",rules:e.RolTexto,label:"Apellidos"},model:{value:e.user.apellidos,callback:function(t){e.$set(e.user,"apellidos",t)},expression:"user.apellidos"}}):e._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[1==this.verificado?a("v-text-field",{attrs:{name:"email",rules:e.Rolemail,label:"Correo Electronico",disabled:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[1==this.verificado?a("v-text-field",{attrs:{label:"Rol",type:"text",value:"encargado",disabled:""},model:{value:e.user.roles,callback:function(t){e.$set(e.user,"roles",t)},expression:"user.roles"}}):e._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[""!=e.user.email&&1==this.verificado?a("v-text-field",{attrs:{name:"password",rules:e.Rolpassword,label:"Contraseña",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[""!=e.user.email&&1==this.verificado?a("v-text-field",{attrs:{rules:e.RolconPassword.concat(e.RolConfirmarPassword),label:"Confirmar Contraseña",type:"password"},model:{value:e.confirmar,callback:function(t){e.confirmar=t},expression:"confirmar"}}):e._e()],1)],1),e.user.nombres.length>3&&e.user.apellidos.length>3&&""==e.user.email?a("v-btn",{attrs:{color:"green darken-1",text:"",enabled:""},on:{click:e.generarCorreo}},[e._v("Generar Correo")]):e._e(),""!=e.user.nombres&&""!=e.user.apellidos&&""!=e.user.email&&e.user.password==e.confirmar?a("v-btn",{staticClass:"mr-4 mb-8 mt-8",attrs:{dark:"",color:"purple",type:"submit"}},[e._v("Registrar")]):e._e(),1==this.verificado?a("v-btn",{staticClass:"mr-4 mb-8 mt-8 ml-12",attrs:{color:"orange",to:{name:"Home"},dark:"",outlined:""}},[e._v("Cancelar")]):e._e()],1),e.message?a("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(e._s(e.message))]):e._e(),this.confirmar.length>7?a("v-alert",{attrs:{color:"red lighten-3",enabled:""}},[a("h3",{staticClass:"text-center"},[e._v("Debe ingresar 8 caracteres minimo")])]):e._e()],1)},Lt=[],qt=(a("25f0"),{data:function(){return{codigoVerificacion:"",nombres:"",apellidos:"",email:"",password:"",confirmar:"",roles:"encargado",RolTexto:[function(e){return!!e||"Este campo es requerido"},function(e){return/[a-zA-Z]\d*/.test(e)||"No se permiten números"}],Rolemail:[function(e){return!!e||"Correo es requerido"},function(e){return/.+@.+\..+/.test(e)||"E-mail no valido"}],Rolpassword:[function(e){return!!e||"Contraseña es requerida"}],RolconPassword:[function(e){return!!e||"Contraseña es requerida"}],user:new re("","",""),submitted:!1,successful:!1,message:"",verificado:!1}},created:function(){this.user.roles="encargado"},methods:{verificar:function(){var e=this.codigoVerificacion;"v3r1f1"==e?this.verificado=!0:(alert("codigo no valido"),this.verificado=!1)},generarCorreo:function(){var e=this,t=this.user.nombres,a=this.user.apellidos;console.log(t,a),Pe["a"].correoaleatorio(t,a).then((function(t){console.log(t.data.correo),e.user.email=t.data.correo})).catch((function(e){alert("Error al generar"),console.log(e)}))},handleRegister:function(){var e=this;this.message="",this.submitted=!0,this.$store.dispatch("auth/register",this.user).then((function(t){e.message=t.message,e.successful=!0,alert("Usuario creado con éxito. Su correo es :"+e.user.email),e.$router.push("/login")}),(function(t){e.message=t.response&&t.response.data||t.message||t.toString(),e.successful=!1}))}},computed:{RolConfirmarPassword:function(){var e=this;return function(){return e.user.password===e.confirmar||"las contraseñas no coinciden"}},loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.loggedIn&&this.$router.push("/profile")}}),Mt=qt,Pt=Object(c["a"])(Mt,Ut,Lt,!1,null,null,null),Bt=Pt.exports;u()(Pt,{VAlert:se["a"],VBtn:v["a"],VCard:f["a"],VCardTitle:p["d"],VCol:G["a"],VForm:Q["a"],VRow:L["a"],VTextField:W["a"]}),o["a"].use(T["a"]);var Jt=[{path:"/",name:"home",component:M},{path:"/login",component:le},{path:"/register",component:Bt},{path:"/profile",name:"profile",component:function(){return a.e("chunk-c1431ac8").then(a.bind(null,"c66d"))}},{path:"/admin",name:"admin",component:function(){return a.e("chunk-2d20f022").then(a.bind(null,"b295"))}},{path:"/docente",name:"docente",component:function(){return a.e("chunk-2d22d5b9").then(a.bind(null,"f6c6"))}},{path:"/encargado",name:"encargado",component:function(){return a.e("chunk-2d0b6888").then(a.bind(null,"1e20"))}},{path:"/Home",name:"Home",component:M},{path:"/About",name:"About",component:ee},{path:"/ListadoGrado",name:"ListadoGrado",component:we},{path:"/ListadoMateria",name:"ListadoMateria",component:Ae},{path:"/ListadoAula",name:"ListadoAula",component:Le},{path:"/ListadoDocentes",name:"ListadoDocentes",component:Ye},{path:"/ListadoEncargados",name:"ListadoEncargados",component:Ke},{path:"/ListadoInscripciones",name:"ListadoInscripciones",component:jt},{path:"/Grado",name:"Grado",component:dt},{path:"/GradoEncargados",name:"GradoEncargados",component:gt},{path:"/Tablon2",name:"Tablon2",component:Gt},{path:"/ListadoEncargados",name:"ListadoEncargados",component:Ke}],Ft=new T["a"]({mode:"history",base:"/",routes:Jt}),Yt=Ft,Ht=a("2f62"),Qt=a("bc3a"),Wt=a.n(Qt),Xt="https://app-schoolroom.herokuapp.com/auth/",Zt=function(){function e(){Object(oe["a"])(this,e)}return Object(me["a"])(e,[{key:"login",value:function(e){return Wt.a.post(Xt+"signin",{email:e.email,password:e.password}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e){return Wt.a.post(Xt+"signup",{nombres:e.nombres,apellidos:e.apellidos,email:e.email,password:e.password})}}]),e}(),Kt=new Zt,ea=JSON.parse(localStorage.getItem("user")),ta=ea?{status:{loggedIn:!0},user:ea}:{status:{loggedIn:!1},user:null},aa={namespaced:!0,state:ta,actions:{login:function(e,t){var a=e.commit;return Kt.login(t).then((function(e){return a("loginSuccess",e),Promise.resolve(e)}),(function(e){return a("loginFailure"),Promise.reject(e)}))},logout:function(e){var t=e.commit;Kt.logout(),t("logout")},register:function(e,t){var a=e.commit;return Kt.register(t).then((function(e){return a("registerSuccess"),Promise.resolve(e.data)}),(function(e){return a("registerFailure"),Promise.reject(e)}))}},mutations:{loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=null},logout:function(e){e.status.loggedIn=!1,e.user=null},registerSuccess:function(e){e.status.loggedIn=!1},registerFailure:function(e){e.status.loggedIn=!1}}};o["a"].use(Ht["a"]);var oa=new Ht["a"].Store({modules:{auth:aa}}),ra=a("f309");a("d1e78");o["a"].use(ra["a"]);var ia=new ra["a"]({icons:{iconfont:"md"}});o["a"].use(Ht["a"]),o["a"].config.productionTip=!1,new o["a"]({router:Yt,store:oa,vuetify:ia,render:function(e){return e(E)}}).$mount("#app")},"97c7":function(e,t,a){},c10d:function(e,t,a){e.exports=a.p+"img/fondo.73af168b.jpg"},c427:function(e,t,a){"use strict";var o=a("bc3a"),r=a.n(o);function i(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}t["a"]=r.a.create({baseURL:"https://app-schoolroom.herokuapp.com",headers:{"Content-type":"application/json","x-access-token":i()["x-access-token"]}})}});
//# sourceMappingURL=app.a3a7406c.js.map